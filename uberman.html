<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Uberman Counter</title>
<style>
:root {
  --bg:#000;
  --text:#ff3a3a;
  --glow:0 0 18px rgba(255,0,40,.6);
}
body {
  margin:0;
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,sans-serif;
}
h1 { font-size:clamp(32px,8vw,96px); text-shadow:var(--glow); margin-bottom:1em; }
button { margin:6px; padding:10px 20px; border:2px solid var(--text); background:transparent; color:var(--text); border-radius:8px; cursor:pointer; }
button:hover { background:var(--text); color:#000; }
#controls, #settings { display:none; flex-direction:column; align-items:center; margin-top:1em; }
</style>
</head>
<body>

<h1>Uberman Counter</h1>
<p id="countdown">Countdown: --:--:--</p>
<p id="day">Day: 0</p>
<p id="hours">Awake: 0h / Asleep: 0h</p>
<p id="notes"></p>

<button id="lockBtn">Unlock Settings</button>

<div id="controls">
  <button id="incrementBtn">+1 Hour Awake</button>
  <button id="resetBtn">Reset</button>
</div>

<div id="settings">
  <label for="startTime">Start Time:</label>
  <input type="datetime-local" id="startTime"/>
  <button id="startBtn">Set Start</button>
</div>

<script>
let unlocked = false;
let day = 0;
let awake = 0;
let startTime = new Date();
const DAY_EL = document.getElementById("day");
const HOURS_EL = document.getElementById("hours");
const COUNTDOWN_EL = document.getElementById("countdown");
const NOTES_EL = document.getElementById("notes");

const LOCK_BTN = document.getElementById("lockBtn");
const CONTROLS = document.getElementById("controls");
const SETTINGS = document.getElementById("settings");
const INCREMENT_BTN = document.getElementById("incrementBtn");
const RESET_BTN = document.getElementById("resetBtn");
const START_BTN = document.getElementById("startBtn");
const START_INPUT = document.getElementById("startTime");

// Lock/Unlock
LOCK_BTN.onclick = () => {
  unlocked = !unlocked;
  CONTROLS.style.display = unlocked ? 'flex' : 'none';
  SETTINGS.style.display = unlocked ? 'flex' : 'none';
  LOCK_BTN.textContent = unlocked ? 'Lock Settings' : 'Unlock Settings';
};

// Set start time
START_BTN.onclick = () => {
  const val = START_INPUT.value;
  if(val) startTime = new Date(val);
  startCountdown();
};

// Increment hour awake
INCREMENT_BTN.onclick = () => {
  awake += 1;
  render();
};

// Reset
RESET_BTN.onclick = () => {
  day = 0;
  awake = 0;
  render();
};

// Countdown
function startCountdown() {
  setInterval(()=>{
    const now = new Date();
    const diff = startTime - now;
    if(diff <= 0) {
      COUNTDOWN_EL.textContent = "Countdown: 00:00:00";
      return;
    }
    const h = String(Math.floor(diff/3600000)).padStart(2,'0');
    const m = String(Math.floor((diff%3600000)/60000)).padStart(2,'0');
    const s = String(Math.floor((diff%60000)/1000)).padStart(2,'0');
    COUNTDOWN_EL.textContent = `Countdown: ${h}:${m}:${s}`;
  }, 1000);
}

// Render UI
function render() {
  DAY_EL.textContent = `Day: ${day}`;
  HOURS_EL.textContent = `Awake: ${awake}h / Asleep: ${day*24 - awake}h`;
  NOTES_EL.textContent = `Average person sleeps 8h/day. You are awake ${awake}h, asleep ${day*24 - awake}h.`;
}

// Init
document.addEventListener("DOMContentLoaded", ()=>{
  render();
  startCountdown();
});
</script>
</body>
</html>
